@app.route("/")
def swing():

    balance = 50
    updated = datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S UTC")

    # Example market setup (mocked for now)
    price = 284.15
    score = 87.96

    # Risk model
    risk_percent = 0.05   # risk 5% of account
    reward_ratio = 2      # 2R target

    risk_amount = balance * risk_percent
    stop_loss = round(price - (price * 0.03), 2)
    take_profit = round(price + ((price - stop_loss) * reward_ratio), 2)

    position_size = round(risk_amount / (price - stop_loss), 2)

    setup = {
        "coin": "DOT",
        "price": price,
        "score": score,
        "signal": "BUY",
        "entry": price,
        "take_profit": take_profit,
        "stop_loss": stop_loss,
        "position_size": position_size
    }

    stage = "Stage 1: $50 â†’ $200 (Aggressive Growth)"

    return render_template(
        "swing.html",
        updated=updated,
        balance=balance,
        stage=stage,
        setup=setup
    )